<% include ../partials/header %>

<style>

element.style {
    width: 125px;
}
/* .jq-ry-container {
    position: relative;
    padding: 0 5px;
    line-height: 0;
    display: block;
    cursor: pointer;
    -webkit-box-sizing: content-box;
    -moz-box-sizing: content-box;
    box-sizing: content-box;
}
.jq-ry-container{position:relative;padding:0 5px;line-height:0;display:block;cursor:pointer;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.jq-ry-container[readonly=readonly]{cursor:default}.jq-ry-container>.jq-ry-group-wrapper{position:relative;width:100%}.jq-ry-container>.jq-ry-group-wrapper>.jq-ry-group{position:relative;line-height:0;z-index:10;white-space:nowrap}.jq-ry-container>.jq-ry-group-wrapper>.jq-ry-group>svg{display:inline-block}.jq-ry-container>.jq-ry-group-wrapper>.jq-ry-group.jq-ry-normal-group{width:100%}.jq-ry-container>.jq-ry-group-wrapper>.jq-ry-group.jq-ry-rated-group{width:0;z-index:11;position:absolute;top:0;left:0;overflow:hidden} */

.jq-ry-container{position:relative;padding:0 5px;line-height:0;display:block;cursor:pointer;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.jq-ry-container[readonly=readonly]{cursor:default}.jq-ry-container>.jq-ry-group-wrapper{position:relative;width:100%}.jq-ry-container>.jq-ry-group-wrapper>.jq-ry-group{position:relative;line-height:0;z-index:10;white-space:nowrap}.jq-ry-container>.jq-ry-group-wrapper>.jq-ry-group>svg{display:inline-block}.jq-ry-container>.jq-ry-group-wrapper>.jq-ry-group.jq-ry-normal-group{width:100%}.jq-ry-container>.jq-ry-group-wrapper>.jq-ry-group.jq-ry-rated-group{width:0;z-index:11;position:absolute;top:0;left:0;overflow:hidden}

</style>

  <div class = "container">
    <div class = "row">
    <h1 style = "text-align:center">Add a new comment to <%= post.title %></h1>
    <div style="width: 40%; margin:25px auto;">
    <form action="/posts/<%= post._id %>/comments/" method="POST">

        <div class="form-group">
            <label for="title">Title:</label>
            <input 
                class="form-control" 
                type="text" 
                id="title" 
                name="title" 
                placeholder="Title"
                required = ""
                value="<%= typeof title != 'undefined' ? title : '' %>"
            />
        </div>

        <div class="form-group">
            <label for="text">Text:</label>

            <textarea class="form-control" style=" height:100px" type="text" id="text" name="text" placeholder="Enter Your Comment" required = "" value="<%= typeof text != 'undefined' ? text : '' %>"></textarea>
        </div>

         <div class="form-group rating">
           <h4>Rating:</h4>
           <div class="container-fluid">
               <div class="row">
                   <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                     <div class="rateyo-widg-2"></div>
                     <input type="hidden" value="3.5" name="comment[rating_value]" id="rateyoid">
                     <!-- rateYo , a jQuery plugin-->
                     <script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.2.0/jquery.rateyo.min.js"></script>
                     <script>
                         $(function ()
                         {
                           $(".rateyo-widg-2").rateYo({
                               rating: 3.5,
                               starWidth: "25px",
                               ratedFill: "#F39C12", //"#e74c3c" -> red
                           }).on("rateyo.set", function (e, data)
                             {
                               var rating = data.rating;
                                     // set the value in input form
                                     document.getElementById("rateyoid").value=rating;
                                     // display the set rating value
                                     $(".ratometer h4").each(function()
                                     {
                                       $(this).text(rating);
                                     });
                             });
                         });
                     </script>
                   </div>
                   <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                       <div class="ratometer">
                           <h4>set a rating(default: 3.5)<!-- rating value displayed here--></h4>
                       </div>
                   </div>
               </div>
            </div>
        </div>
        <div class="form-group">
            <button class="btn btn-primary btn-block btn-lg">Submit</button>
        </div>
    </form>
    <a class  = "btn btn-success" href="/posts" >Back</a>
   </div>
 </div>
</div>