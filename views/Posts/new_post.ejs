<% include ../partials/header %>
<body class="text-center">
  
  <div class="row mt-6">
  <div class="col-md-12 m-auto">
  <div class="card card-body">
      <h1 class="text-center mb-3">
        Make a New Post
      </h1>
      <form action="/posts" method="POST">
        
        <div align="left" class = "form-group">
            <label for="title">Title:</label>
            <input 
              type="text" 
              id="title"
              name = "title" 
              placeholder = "Enter post title"
              required = ""
              style="font-size:14pt;width:100%;"
              value="<%= typeof title != 'undefined' ? title : '' %>"
            />
        </div>

        <div align="left" class = "form-group">
          <label for="postType">Post Category:</label>
        <select name="postType" ng-model="selectItem" id="postType" onChange="showType(this);">
            <optgroup label="Please Select A Post Category:">
                <option value="" selected disabled hidden>Choose here</option>
                <option value = "RestaurantReview" >RestaurantReview</option>
                <option value = "Recipe" >Recipe</option>
                <option value = "HangOut" >HangOut</option>
            </optgroup>
            
        </select>
</div>
  
        <div align="left" class = "form-group">
          <label for="image">Upload images:</label>
          <input 
            type="file" 
            id="image"
            name = "image" 
            accept="image/*" multiple 
            required = ""
            value="<%= typeof image != 'undefined' ? image : '' %>"
          />
        </div>

        <div align="left" class = "form-group">
          <label for="description"  >Description:</label> <br>
        <textarea id="description" onkeypress="onTestChange();" 
                  name="description" rows="20" cols=100% placeholder="Describe something..." 
                  wrap="hard" style ="font-size:14pt;"></textarea> <br><br>
      </div>
        
        <div align="left" class = "form-group">
          <a id = "tags" label for="tags">Tags:</label>
          <input 
            type="text" 
            id="tags"
            name="tags"
            placeholder = "Enter your tags here" 
            required = ""
            style="font-size:12pt;height:40px;width:100%;"
            value="<%= typeof tags != 'undefined' ? tags : '' %>"
          ></a>
        </div>

        <div align="left" class = "form-group">
          <a id = "location" label for="location">Restaurant Location (if applicable):</label>
          <input 
            type="text" 
            id="location"
            name="location"
            placeholder = "Enter restaurant location here" 
            style="font-size:12pt;height:40px;width:100%;"
          /a>
        </div>

        <div align="left" class="form-group">
          <a id = "meetTime" label for="meetTime">Hangout Time:</label>
          <input type="datetime-local" id="meetTime" name="meetTime" value="2019-11-30T12:00"
            style="font-size:12pt;height:40px;width:100%;" value="<%= typeof tags != 'undefined' ? tags : '' %>" ></a>
        </div>

        <div align="left" class="form-group">
          <a id = "meetLocation" label for="meetLocation">Hangout Location:</label>
          <input type="text" id="meetLocation" name="meetLocatione" placeholder="Where to meet up?"
            style="font-size:12pt;height:40px;width:100%;" value="<%= typeof tags != 'undefined' ? tags : '' %>" ></a>
        </div>


        <!-- Send email to confirm -->
        <button type="submit" class="btn btn-primary btn-block">
            Submit!
        </button>
        <hr>
        <button type="reset" class="btn btn-md btn-primary">
            Reset
        </button>



        <button class="btn btn-md btn-primary">
          <a href="/posts">Back</a>
        </button>

    </form>
      <script type="text/javascript">
        function onTestChange() {
          var key = window.event.keyCode;
          // If the user has pressed enter
          if (key === 13) {
            document.getElementById("description").value = document.getElementById("description").value + "\n";
            return false;
          }
          else {
            return true;
          }
        }

        function showType(type) {
          var theTypes = document.getElementById("postType").value;
          if (theTypes == "Recipe" ) {
            //alert("The input value has changed. The new value is: " + theTypes);
            document.getElementById("location").innerHTML = "";
            document.getElementById("meetTime").innerHTML = "";
            document.getElementById("meetLocation").innerHTML = "";
          }else if (theTypes == "HangOut"){
            document.getElementById("location").innerHTML = "";
            document.getElementById("tags").innerHTML = "";
          }
          else if (theTypes != "HangOut"){
            document.getElementById("meetTime").innerHTML = "";
            document.getElementById("meetLocation").innerHTML = "";
          }
          return theTypes;

        }
      </script>
  </div>
  </div>
  </div>
  </script>

  </body>
  </html>